# 修复KVO观察者崩溃问题

## 问题描述
切换Tab时应用崩溃，错误信息：
```
Cannot remove an observer <CFJClientH5Controller 0x105b87600> for the key path "estimatedProgress" from <WKWebView 0x114519500> because it is not registered as an observer.
```

## 问题原因
1. WebView的KVO观察者被重复移除
2. 在WebView已经移除观察者的情况下，再次尝试移除导致崩溃
3. Tab切换和懒加载机制导致生命周期方法多次调用，增加了重复移除的风险

## 修复方案

### 添加标志位控制KVO注册状态
在 `XZWKWebViewBaseController.m` 中：

1. 添加属性：
```objc
@property (nonatomic, assign) BOOL isKVORegistered; // 标记KVO观察者是否已注册
```

2. 注册观察者时检查标志位：
```objc
if (!self.isKVORegistered) {
    [self.webView addObserver:self forKeyPath:@"estimatedProgress" options:NSKeyValueObservingOptionNew context:NULL];
    [self.webView addObserver:self forKeyPath:@"title" options:NSKeyValueObservingOptionNew context:NULL];
    self.isKVORegistered = YES;
}
```

3. 移除观察者时检查标志位：
```objc
if (self.isKVORegistered) {
    @try {
        [self.webView removeObserver:self forKeyPath:@"estimatedProgress"];
        [self.webView removeObserver:self forKeyPath:@"title"];
        self.isKVORegistered = NO;
    } @catch (NSException *exception) {
        NSLog(@"移除KVO观察者异常: %@", exception);
    }
}
```

## 修改的位置
1. `setupUnifiedJavaScriptBridge` 方法（行号：905-914）
2. `dealloc` 方法（行号：634-643）
3. `cleanupWebView` 方法（行号：3489-3498）
4. `forceRefreshWebView` 方法（行号：3644-3652）

## 额外优化
将Tab切换时的检查延迟从0.1秒增加到0.3秒，给页面更多初始化时间。

## 测试建议
1. 多次切换Tab，验证不再崩溃
2. 手势返回到Tab页，验证功能正常
3. 测试WebView的加载进度条功能是否正常