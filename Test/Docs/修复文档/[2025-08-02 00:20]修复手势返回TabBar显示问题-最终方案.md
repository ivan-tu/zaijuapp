# ä¿®å¤æ‰‹åŠ¿è¿”å›TabBaræ˜¾ç¤ºé—®é¢˜ - æœ€ç»ˆæ–¹æ¡ˆ

## é—®é¢˜æè¿°
1. ä»å†…é¡µæ‰‹åŠ¿è¿”å›åˆ°Tabæ ¹é¡µé¢æ—¶ï¼ŒTabBarä¼šåœ¨æ‰‹åŠ¿åˆšå¼€å§‹å°±æ˜¾ç¤ºåœ¨å†…é¡µä¸Šå±‚
2. æ‰‹åŠ¿å–æ¶ˆæ—¶ï¼ŒTabBarçŠ¶æ€åˆ¤æ–­é”™è¯¯
3. æ‰‹åŠ¿è¿”å›åå¯èƒ½å‡ºç°é¦–é¡µç©ºç™½çš„é—®é¢˜

## é—®é¢˜åŸå› 
1. iOSç³»ç»Ÿåœ¨`popViewControllerAnimated:`è°ƒç”¨æ—¶ä¼šç«‹å³æ ¹æ®ç›®æ ‡é¡µé¢çš„`hidesBottomBarWhenPushed`å±æ€§æ˜¾ç¤ºTabBar
2. `navigationController:didShowViewController:animated:`æ–¹æ³•åœ¨æ‰‹åŠ¿å–æ¶ˆæ—¶ä¼šä¼ å…¥é”™è¯¯çš„viewControllerå‚æ•°
3. å¤šæ¬¡è°ƒç”¨pageShowå¯èƒ½å¯¼è‡´WebViewçŠ¶æ€å¼‚å¸¸

## è§£å†³æ–¹æ¡ˆ

### 1. Pushæ—¶æ‰‹åŠ¨éšè—TabBar
```objc
- (void)pushViewController:(UIViewController *)viewController animated:(BOOL)animated {
    // åœ¨pushå‰ç¦ç”¨äº¤äº’å¼æ‰‹åŠ¿ï¼Œé˜²æ­¢å†²çª
    self.interactivePopGestureRecognizer.enabled = NO;
    
    // ğŸ”§ å…³é”®ä¿®å¤ï¼šå¦‚æœæ–°é¡µé¢éœ€è¦éšè—TabBarï¼Œåœ¨pushå‰å°±æ‰‹åŠ¨éšè—
    if (viewController.hidesBottomBarWhenPushed && self.tabBarController) {
        NSLog(@"åœ¨å±€Claude Code[TabBarä¿®å¤]+Pushå‰æ‰‹åŠ¨éšè—TabBar");
        self.tabBarController.tabBar.hidden = YES;
    }
    
    [super pushViewController:viewController animated:animated];
}
```

### 2. ä½¿ç”¨topViewControlleråˆ¤æ–­å½“å‰é¡µé¢
```objc
// ğŸ”§ å…³é”®ä¿®å¤ï¼šåœ¨å¯¼èˆªå®Œæˆåæ‰‹åŠ¨æ§åˆ¶TabBaræ˜¾ç¤ºçŠ¶æ€
// ä½¿ç”¨self.topViewControlleræ¥è·å–å½“å‰çœŸæ­£æ˜¾ç¤ºçš„è§†å›¾æ§åˆ¶å™¨
UIViewController *currentVC = self.topViewController;
if (self.tabBarController && currentVC) {
    if (currentVC.hidesBottomBarWhenPushed) {
        // å½“å‰é¡µé¢éœ€è¦éšè—TabBar
        self.tabBarController.tabBar.hidden = YES;
        NSLog(@"åœ¨å±€Claude Code[TabBarä¿®å¤]+å¯¼èˆªå®Œæˆï¼Œå½“å‰é¡µé¢éšè—TabBar (currentVC: %@)", NSStringFromClass([currentVC class]));
    } else {
        // å½“å‰é¡µé¢éœ€è¦æ˜¾ç¤ºTabBar
        self.tabBarController.tabBar.hidden = NO;
        NSLog(@"åœ¨å±€Claude Code[TabBarä¿®å¤]+å¯¼èˆªå®Œæˆï¼Œå½“å‰é¡µé¢æ˜¾ç¤ºTabBar (currentVC: %@)", NSStringFromClass([currentVC class]));
    }
}
```

### 3. æ‰‹åŠ¿å¼€å§‹æ—¶ä¿æŒTabBaréšè—
```objc
// ğŸ”§ å…³é”®ä¿®å¤ï¼šåœ¨æ‰‹åŠ¿å¼€å§‹æ—¶ï¼Œå¦‚æœå½“å‰é¡µé¢éšè—TabBarï¼Œç¡®ä¿å®ƒä¿æŒéšè—
UIViewController *currentVC = self.topViewController;
if (currentVC.hidesBottomBarWhenPushed && self.tabBarController) {
    self.tabBarController.tabBar.hidden = YES;
    NSLog(@"åœ¨å±€Claude Code[TabBarä¿®å¤]+æ‰‹åŠ¿å¼€å§‹ï¼Œä¿æŒTabBaréšè—");
}
```

### 4. æ‰‹åŠ¿å–æ¶ˆæ—¶æ¢å¤æ­£ç¡®çŠ¶æ€
```objc
// ğŸ”§ å…³é”®ä¿®å¤ï¼šæ‰‹åŠ¿å–æ¶ˆæ—¶ï¼Œç¡®ä¿TabBarçŠ¶æ€æ­£ç¡®
dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.3 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{
    UIViewController *currentVC = self.topViewController;
    if (currentVC && self.tabBarController) {
        if (currentVC.hidesBottomBarWhenPushed) {
            self.tabBarController.tabBar.hidden = YES;
            NSLog(@"åœ¨å±€Claude Code[TabBarä¿®å¤]+æ‰‹åŠ¿å–æ¶ˆï¼Œä¿æŒTabBaréšè—");
        } else {
            self.tabBarController.tabBar.hidden = NO;
            NSLog(@"åœ¨å±€Claude Code[TabBarä¿®å¤]+æ‰‹åŠ¿å–æ¶ˆï¼Œæ˜¾ç¤ºTabBar");
        }
    }
});
```

## ä¿®æ”¹æ–‡ä»¶
- `XZVientiane/XZBase/BaseController/XZNavigationController.m`

## ä¿®æ”¹æ–¹æ³•
- `pushViewController:animated:` - Pushæ—¶éšè—TabBar
- `navigationController:didShowViewController:animated:` - ä½¿ç”¨topViewControlleråˆ¤æ–­
- `handleEdgePanGesture:` - æ‰‹åŠ¿å¼€å§‹å’Œå–æ¶ˆæ—¶çš„å¤„ç†

## æ•ˆæœ
1. TabBarä¸ä¼šåœ¨æ‰‹åŠ¿è¿”å›è¿‡ç¨‹ä¸­æå‰æ˜¾ç¤º
2. æ‰‹åŠ¿å–æ¶ˆæ—¶TabBarçŠ¶æ€ä¿æŒæ­£ç¡®
3. é¿å…äº†é¦–é¡µç©ºç™½ç­‰å‰¯ä½œç”¨

## ä¼˜åŠ¿
1. å®Œå…¨æ¥ç®¡TabBarçš„æ˜¾ç¤ºéšè—æ§åˆ¶ï¼Œä¸ä¾èµ–ç³»ç»Ÿè‡ªåŠ¨å¤„ç†
2. ä½¿ç”¨topViewControllerç¡®ä¿è·å–åˆ°çœŸæ­£å½“å‰æ˜¾ç¤ºçš„é¡µé¢
3. åœ¨å…³é”®æ—¶æœºç‚¹æ‰‹åŠ¨è®¾ç½®TabBarçŠ¶æ€ï¼Œé¿å…ç³»ç»Ÿé»˜è®¤è¡Œä¸ºçš„å¹²æ‰°