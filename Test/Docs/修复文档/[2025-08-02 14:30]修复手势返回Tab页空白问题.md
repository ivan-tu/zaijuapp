# 修复手势返回Tab页空白问题

## 问题描述
当手势返回的上一个页面为Tab页时，返回结束Tab页变为一片空白，只能通过切换别的Tab来重新显示。

## 问题原因分析

### 1. Tab页懒加载机制
- 非首页Tab初始使用占位ViewController，在首次切换时才替换为真实的CFJClientH5Controller
- 手势返回时，如果Tab页还是占位ViewController，会被替换为新的控制器

### 2. WebView内容判断问题
- `hasValidWebViewContent`方法对Tab页的判断过于宽松
- 只要`isExist`为YES就认为有内容，但新创建的控制器`isExist`可能为默认值NO
- 导致`setupAndLoadWebViewIfNeeded`跳过了必要的加载流程

### 3. 生命周期方法调用问题
- Tab页替换后，新控制器的生命周期方法可能没有正确触发
- WebView的创建和加载被跳过

## 修复方案

### 1. 改进`hasValidWebViewContent`方法 (XZWKWebViewBaseController.m)
```objc
// 对Tab页面进行更严格的检查
- 检查WebView的URL是否为空或about:blank
- 检查isExist状态
- 检查URL是否只是manifest路径
- 只有URL是有效的网络地址且isExist为YES时才认为有效
```

### 2. Tab页懒加载时确保生命周期正确 (XZTabBarController.m)
```objc
// 在替换占位ViewController后手动触发生命周期方法
if (homeVC.isViewLoaded) {
    [homeVC viewWillAppear:NO];
    [homeVC viewDidAppear:NO];
} else {
    [homeVC view]; // 强制加载视图
    [homeVC viewWillAppear:NO];
    [homeVC viewDidAppear:NO];
}
```

### 3. Tab切换时检查并修复空白页 (XZTabBarController.m)
```objc
// 在didSelectViewController中添加检查逻辑
dispatch_after(0.1秒, ^{
    if (!hasValidWebViewContent) {
        // 触发domainOperate重新加载
    }
});
```

## 修改的文件
1. `/XZVientiane/XZBase/BaseController/XZWKWebViewBaseController.m` - 改进WebView内容判断逻辑
2. `/XZVientiane/XZBase/BaseController/XZTabBarController.m` - 修复Tab页懒加载和切换逻辑

## 测试建议
1. 从首页进入二级页面
2. 使用手势返回到Tab页（非首页Tab）
3. 验证Tab页是否正常显示内容
4. 切换不同Tab验证功能正常

## 注意事项
- 修改后需要充分测试Tab切换的各种场景
- 注意观察控制台日志，查看WebView内容检查的输出
- 确保修复不影响正常的Tab切换性能