# ä¿®å¤æ‰‹åŠ¿è¿”å›TabBaræ˜¾ç¤ºé—®é¢˜ - Frameæ–¹æ¡ˆ

## é—®é¢˜æè¿°
åœ¨æ‰‹åŠ¿è¿”å›æ—¶ï¼Œå³ä½¿è®¾ç½®äº†`tabBar.hidden = YES`ï¼ŒiOSç³»ç»Ÿä»ä¼šåœ¨äº¤äº’å¼è½¬åœºå¼€å§‹æ—¶è‡ªåŠ¨æ˜¾ç¤ºTabBarï¼Œå¯¼è‡´TabBaræå‰å‡ºç°åœ¨å†…é¡µä¸Šå±‚ã€‚

## é—®é¢˜æ ¹å› 
iOSç³»ç»Ÿåœ¨äº¤äº’å¼è½¬åœºæ—¶ä¼šå¼ºåˆ¶æ ¹æ®ç›®æ ‡è§†å›¾æ§åˆ¶å™¨çš„`hidesBottomBarWhenPushed`å±æ€§æ¥ç®¡ç†TabBarçš„æ˜¾ç¤ºçŠ¶æ€ï¼Œä¼šè¦†ç›–æˆ‘ä»¬å¯¹`hidden`å±æ€§çš„è®¾ç½®ã€‚

## è§£å†³æ–¹æ¡ˆ
é€šè¿‡è°ƒæ•´TabBarçš„frameä½ç½®æ¥æ§åˆ¶å…¶å¯è§æ€§ï¼Œè€Œä¸æ˜¯ä½¿ç”¨hiddenå±æ€§ã€‚

### 1. Pushæ—¶å°†TabBarç§»å‡ºå±å¹•
```objc
// ğŸ”§ å…³é”®ä¿®å¤ï¼šå¦‚æœæ–°é¡µé¢éœ€è¦éšè—TabBarï¼Œåœ¨pushå‰å°†å…¶ç§»å‡ºå±å¹•
if (viewController.hidesBottomBarWhenPushed && self.tabBarController) {
    UITabBar *tabBar = self.tabBarController.tabBar;
    CGRect tabBarFrame = tabBar.frame;
    tabBarFrame.origin.y = [UIScreen mainScreen].bounds.size.height;
    tabBar.frame = tabBarFrame;
    NSLog(@"åœ¨å±€Claude Code[TabBarä¿®å¤]+Pushå‰å°†TabBarç§»å‡ºå±å¹•");
}
```

### 2. æ‰‹åŠ¿å¼€å§‹æ—¶ç¡®ä¿TabBaråœ¨å±å¹•å¤–
```objc
// å¦‚æœæ˜¯ä»éšè—TabBarçš„é¡µé¢è¿”å›åˆ°æ˜¾ç¤ºTabBarçš„é¡µé¢ï¼Œä¸´æ—¶ç§»åŠ¨TabBar
if (currentVC.hidesBottomBarWhenPushed && toVC && !toVC.hidesBottomBarWhenPushed && self.tabBarController) {
    UITabBar *tabBar = self.tabBarController.tabBar;
    CGRect tabBarFrame = tabBar.frame;
    // å°†TabBarç§»å‡ºå±å¹•åº•éƒ¨
    tabBarFrame.origin.y = [UIScreen mainScreen].bounds.size.height;
    tabBar.frame = tabBarFrame;
    NSLog(@"åœ¨å±€Claude Code[TabBarä¿®å¤]+æ‰‹åŠ¿å¼€å§‹ï¼Œå°†TabBarç§»å‡ºå±å¹•");
}
```

### 3. å¯¼èˆªå®Œæˆåæ ¹æ®éœ€è¦æ¢å¤TabBarä½ç½®
```objc
if (currentVC.hidesBottomBarWhenPushed) {
    // å½“å‰é¡µé¢éœ€è¦éšè—TabBar - ç§»å‡ºå±å¹•
    CGRect tabBarFrame = tabBar.frame;
    tabBarFrame.origin.y = screenHeight;
    tabBar.frame = tabBarFrame;
} else {
    // å½“å‰é¡µé¢éœ€è¦æ˜¾ç¤ºTabBar - æ¢å¤åˆ°æ­£ç¡®ä½ç½®
    CGRect tabBarFrame = tabBar.frame;
    tabBarFrame.origin.y = screenHeight - tabBarHeight;
    // ä½¿ç”¨åŠ¨ç”»å¹³æ»‘è¿‡æ¸¡
    [UIView animateWithDuration:0.25 animations:^{
        tabBar.frame = tabBarFrame;
    }];
}
```

### 4. æ‰‹åŠ¿å–æ¶ˆæ—¶æ¢å¤æ­£ç¡®ä½ç½®
```objc
dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.3 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{
    UIViewController *currentVC = self.topViewController;
    if (currentVC && self.tabBarController) {
        UITabBar *tabBar = self.tabBarController.tabBar;
        CGFloat screenHeight = [UIScreen mainScreen].bounds.size.height;
        CGFloat tabBarHeight = tabBar.frame.size.height;
        CGRect tabBarFrame = tabBar.frame;
        
        if (currentVC.hidesBottomBarWhenPushed) {
            // å½“å‰é¡µé¢éœ€è¦éšè—TabBar - ç¡®ä¿åœ¨å±å¹•å¤–
            tabBarFrame.origin.y = screenHeight;
            tabBar.frame = tabBarFrame;
        } else {
            // å½“å‰é¡µé¢éœ€è¦æ˜¾ç¤ºTabBar - æ¢å¤åˆ°æ­£ç¡®ä½ç½®
            tabBarFrame.origin.y = screenHeight - tabBarHeight;
            tabBar.frame = tabBarFrame;
        }
    }
});
```

## ä¿®æ”¹æ–‡ä»¶
- `XZVientiane/XZBase/BaseController/XZNavigationController.m`

## ä¼˜åŠ¿
1. é¿å…äº†iOSç³»ç»Ÿå¯¹hiddenå±æ€§çš„è¦†ç›–
2. é€šè¿‡ç‰©ç†ä½ç½®æ§åˆ¶TabBarçš„å¯è§æ€§ï¼Œæ›´åŠ å¯é 
3. ä½¿ç”¨åŠ¨ç”»è¿‡æ¸¡ï¼Œè§†è§‰æ•ˆæœæ›´è‡ªç„¶
4. ä¸å½±å“ç³»ç»Ÿçš„å…¶ä»–æœºåˆ¶

## æ³¨æ„äº‹é¡¹
1. éœ€è¦æ­£ç¡®è®¡ç®—å±å¹•é«˜åº¦å’ŒTabBaré«˜åº¦
2. åœ¨é€‚å½“çš„æ—¶æœºä½¿ç”¨åŠ¨ç”»ï¼Œé¿å…çªå…€çš„æ˜¾ç¤ºæ•ˆæœ
3. æ‰‹åŠ¿å–æ¶ˆæ—¶éœ€è¦å»¶è¿Ÿå¤„ç†ï¼Œç¡®ä¿è½¬åœºåŠ¨ç”»å®Œæˆ