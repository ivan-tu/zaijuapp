# ä¿®å¤æ‰‹åŠ¿è¿”å›æ—¶TabBaræå‰æ˜¾ç¤ºé—®é¢˜ - æ–°æ–¹æ¡ˆ

## é—®é¢˜æè¿°
å½“ç”¨æˆ·ä»å†…é¡µï¼ˆhidesBottomBarWhenPushed=YESï¼‰é€šè¿‡æ‰‹åŠ¿è¿”å›åˆ°Tabæ ¹é¡µé¢ï¼ˆhidesBottomBarWhenPushed=NOï¼‰æ—¶ï¼ŒTabBarä¼šåœ¨æ‰‹åŠ¿åˆšå¼€å§‹å°±ç«‹å³æ˜¾ç¤ºåœ¨å†…é¡µä¸Šå±‚ï¼Œå¯¼è‡´è§†è§‰æ•ˆæœå¼‚å¸¸ã€‚

## é—®é¢˜åŸå› 
iOSç³»ç»Ÿçš„é»˜è®¤è¡Œä¸ºæ˜¯åœ¨`popViewControllerAnimated:`è¢«è°ƒç”¨æ—¶ç«‹å³æ›´æ–°TabBarçš„æ˜¾ç¤ºçŠ¶æ€ï¼Œè€Œä¸ä¼šç­‰å¾…è½¬åœºåŠ¨ç”»å®Œæˆã€‚è¿™å¯¼è‡´TabBaråœ¨è½¬åœºåŠ¨ç”»è¿˜æœªå¼€å§‹å°±å·²ç»æ˜¾ç¤ºã€‚

## è§£å†³æ–¹æ¡ˆ
å®Œå…¨æ¥ç®¡TabBarçš„æ˜¾ç¤ºéšè—æ§åˆ¶ï¼Œä¸ä¾èµ–ç³»ç»Ÿçš„è‡ªåŠ¨å¤„ç†ã€‚

### 1. Pushæ—¶æ‰‹åŠ¨éšè—TabBar
åœ¨`pushViewController:animated:`æ–¹æ³•ä¸­ï¼Œå¦‚æœç›®æ ‡é¡µé¢éœ€è¦éšè—TabBarï¼Œæå‰æ‰‹åŠ¨éšè—ï¼š

```objc
- (void)pushViewController:(UIViewController *)viewController animated:(BOOL)animated {
    
    // åœ¨pushå‰ç¦ç”¨äº¤äº’å¼æ‰‹åŠ¿ï¼Œé˜²æ­¢å†²çª
    self.interactivePopGestureRecognizer.enabled = NO;
    
    // ğŸ”§ å…³é”®ä¿®å¤ï¼šå¦‚æœæ–°é¡µé¢éœ€è¦éšè—TabBarï¼Œåœ¨pushå‰å°±æ‰‹åŠ¨éšè—
    if (viewController.hidesBottomBarWhenPushed && self.tabBarController) {
        NSLog(@"åœ¨å±€Claude Code[TabBarä¿®å¤]+Pushå‰æ‰‹åŠ¨éšè—TabBar");
        self.tabBarController.tabBar.hidden = YES;
    }
    
    [super pushViewController:viewController animated:animated];
}
```

### 2. å¯¼èˆªå®Œæˆåæ ¹æ®å½“å‰é¡µé¢è®¾ç½®TabBarçŠ¶æ€
åœ¨`navigationController:didShowViewController:animated:`æ–¹æ³•ä¸­ï¼Œæ ¹æ®å½“å‰æ˜¾ç¤ºçš„è§†å›¾æ§åˆ¶å™¨è®¾ç½®TabBarçš„æ˜¾ç¤ºçŠ¶æ€ï¼š

```objc
// ğŸ”§ å…³é”®ä¿®å¤ï¼šåœ¨å¯¼èˆªå®Œæˆåæ‰‹åŠ¨æ§åˆ¶TabBaræ˜¾ç¤ºçŠ¶æ€
if (self.tabBarController) {
    if (viewController.hidesBottomBarWhenPushed) {
        // å½“å‰é¡µé¢éœ€è¦éšè—TabBar
        self.tabBarController.tabBar.hidden = YES;
        NSLog(@"åœ¨å±€Claude Code[TabBarä¿®å¤]+å¯¼èˆªå®Œæˆï¼Œå½“å‰é¡µé¢éšè—TabBar");
    } else {
        // å½“å‰é¡µé¢éœ€è¦æ˜¾ç¤ºTabBar
        self.tabBarController.tabBar.hidden = NO;
        NSLog(@"åœ¨å±€Claude Code[TabBarä¿®å¤]+å¯¼èˆªå®Œæˆï¼Œå½“å‰é¡µé¢æ˜¾ç¤ºTabBar");
    }
}
```

## ä¿®æ”¹ä½ç½®
- æ–‡ä»¶ï¼š`XZVientiane/XZBase/BaseController/XZNavigationController.m`
- æ–¹æ³•ï¼š
  - `pushViewController:animated:` - Pushæ—¶éšè—TabBar
  - `navigationController:didShowViewController:animated:` - å¯¼èˆªå®Œæˆåè®¾ç½®TabBarçŠ¶æ€

## æ•ˆæœ
- Pushè¿›å…¥å†…é¡µæ—¶ï¼ŒTabBarä¼šåœ¨åŠ¨ç”»å¼€å§‹å‰å°±éšè—ï¼Œé¿å…é—ªçƒ
- Popè¿”å›æ—¶ï¼ŒTabBarä¼šåœ¨å¯¼èˆªå®Œæˆåæ‰æ˜¾ç¤ºï¼Œé¿å…æå‰å‡ºç°åœ¨å†…é¡µä¸Šå±‚
- æ‰‹åŠ¿è¿”å›è¿‡ç¨‹ä¸­ï¼ŒTabBarå§‹ç»ˆä¿æŒéšè—çŠ¶æ€ï¼Œç›´åˆ°å®Œå…¨è¿”å›åˆ°Tabæ ¹é¡µé¢æ‰æ˜¾ç¤º

## ä¼˜åŠ¿
1. é€»è¾‘ç®€å•æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤
2. ä¸å½±å“iOSç³»ç»Ÿçš„å…¶ä»–æœºåˆ¶
3. é¿å…äº†å¤æ‚çš„è§†å›¾å±‚çº§æ“ä½œ
4. è§£å†³äº†TabBaræå‰æ˜¾ç¤ºçš„é—®é¢˜